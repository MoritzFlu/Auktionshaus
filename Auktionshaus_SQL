--
-- PostgreSQL database dump
--

-- Dumped from database version 12.0
-- Dumped by pg_dump version 12.0

-- Started on 2019-11-20 15:18:49

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 202 (class 1259 OID 16394)
-- Name: auctions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auctions (
    auctid integer NOT NULL,
    description text,
    itemname text,
    condition text,
    categoryid integer,
    imagename text
);


ALTER TABLE public.auctions OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 16429)
-- Name: Auctions_AuctID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auctions ALTER COLUMN auctid ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Auctions_AuctID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 204 (class 1259 OID 16404)
-- Name: bids; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.bids (
    bidid integer NOT NULL,
    bidderid integer,
    bid integer NOT NULL,
    auctid integer
);


ALTER TABLE public.bids OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 16402)
-- Name: Bids_BidID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.bids ALTER COLUMN bidid ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Bids_BidID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 16464)
-- Name: categories; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.categories (
    id integer NOT NULL,
    name text
);


ALTER TABLE public.categories OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16462)
-- Name: Categories_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.categories ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Categories_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 209 (class 1259 OID 16454)
-- Name: images; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.images (
    id bigint NOT NULL,
    name text NOT NULL
);


ALTER TABLE public.images OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 16452)
-- Name: Images_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.images ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Images_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 206 (class 1259 OID 16416)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    userid integer NOT NULL,
    pwhash text NOT NULL,
    email text NOT NULL,
    username text NOT NULL,
    cdate timestamp(4) without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 16414)
-- Name: Users_UserID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN userid ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Users_UserID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);




--
-- TOC entry 2865 (class 0 OID 16464)
-- Dependencies: 211
-- Data for Name: categories; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.categories (id, name) FROM stdin;
1	Technik
2	Garten
3	MÃ¶bel
4	Essen
\.


--
-- TOC entry 2871 (class 0 OID 0)
-- Dependencies: 207
-- Name: Auctions_AuctID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Auctions_AuctID_seq"', 15, true);


--
-- TOC entry 2872 (class 0 OID 0)
-- Dependencies: 203
-- Name: Bids_BidID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Bids_BidID_seq"', 5, true);


--
-- TOC entry 2873 (class 0 OID 0)
-- Dependencies: 210
-- Name: Categories_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Categories_ID_seq"', 4, true);


--
-- TOC entry 2874 (class 0 OID 0)
-- Dependencies: 208
-- Name: Images_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Images_ID_seq"', 24, true);


--
-- TOC entry 2875 (class 0 OID 0)
-- Dependencies: 205
-- Name: Users_UserID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Users_UserID_seq"', 38, true);


--
-- TOC entry 2721 (class 2606 OID 16437)
-- Name: users Email already exists; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "Email already exists" UNIQUE (email);


--
-- TOC entry 2719 (class 2606 OID 16408)
-- Name: bids ID; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bids
    ADD CONSTRAINT "ID" PRIMARY KEY (bidid);


--
-- TOC entry 2727 (class 2606 OID 16461)
-- Name: images Images_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.images
    ADD CONSTRAINT "Images_pkey" PRIMARY KEY (id);


--
-- TOC entry 2723 (class 2606 OID 16439)
-- Name: users Username already exists; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "Username already exists" UNIQUE (username);


--
-- TOC entry 2717 (class 2606 OID 16401)
-- Name: auctions Users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auctions
    ADD CONSTRAINT "Users_pkey" PRIMARY KEY (auctid);


--
-- TOC entry 2725 (class 2606 OID 16423)
-- Name: users Users_pkey1; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "Users_pkey1" PRIMARY KEY (userid);


--
-- TOC entry 2728 (class 2606 OID 16409)
-- Name: bids AuctID; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bids
    ADD CONSTRAINT "AuctID" FOREIGN KEY (auctid) REFERENCES public.auctions(auctid) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2729 (class 2606 OID 16424)
-- Name: bids BidderID; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bids
    ADD CONSTRAINT "BidderID" FOREIGN KEY (bidderid) REFERENCES public.users(userid) ON UPDATE CASCADE ON DELETE CASCADE NOT VALID;


-- Completed on 2019-11-20 15:18:49

--
-- PostgreSQL database dump complete
--

